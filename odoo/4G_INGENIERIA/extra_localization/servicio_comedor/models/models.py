# -*- coding: utf-8 -*-

from odoo import models, fields, api
from odoo.exceptions import UserError, ValidationError
from .reporte_comedor import Reporte_Comedor
class servicio_comedor(models.TransientModel):
    _name = 'servicio_comedor.servicio_comedor'
    start_date = fields.Date()
    end_date = fields.Date()
    @api.multi
    def get_servicio_de_comedor(self):
        try:
            self.env.cr.execute("update hr_employee set comidas =0 where 1=1")
            x=Reporte_Comedor(str(self.start_date)+" 00:00:00",str(self.end_date)+" 23:59:59").values.tolist()
            print(x)
        except:
            raise UserError(_('El servidor ZkTecko no esta disponible, pida ayuda a Sistemas'))

        for item in x:
            employee=self.env['hr.employee'].search([('no_tarjeta', '=',int(item[1]))])
            if employee:
                employee.write({'comidas':int(item[2])})

    @api.multi
    def importacion_masiva(self):
        x=[[7996698 ,"VILM960223RJ7"],
[7942925,"VERG801005GV2"],
[7942869,"VAMD780302GF5"],
[7997337,"VAPC890417PC9"],
[7977698,"TUOJ920101IT4"],
[5447721,"TECJ880306H53"],
[7993303,"SOCK770617TT6"],
[10264730,"SOVJ911027QA9"],
[6349826,"SIMN800417U51"],
[7980659,"SESV991213FA3"],
[4341524,"SEPS881021U39"],
[7977647,"SARM750413628"],
[7942859,"SAPR8910226H3"],
[7972666,"SAPA9008249L4"],
[7980660,"SAPA9210075Z9"],
[7991807,"SAMO8808287W7"],
[8162504,"RUSL700923411"],
[7951492,"ROGJ681018CB4"],
[11699201,"RORA680427PI9"],
[7977678,"ROHA870117AK0"],
[4374731,"ROGJ770101MR6"],
[7947860,"ROAD721224PC3"],
[4387481,"RIRA8210225A8"],
[7948233,"RIMJ680615JZ0"],
[8107683,"RIMS020702FI6"],
[4248606,"RIGJ960601S83"],
[7996652,"RICR970406NY4"],
[7948102,"REGC940410CR5"],
[4387465,"RAFH780502162"],
[4353917,"RASH9702189J8"],
[4361777,"RASE881107PA3"],
[7977755,"RARE940213HN6"],
[4269494,"RANC960630AHA"],
[8093877,"RAMR691028GM3"],
[7980171,"RALD930316144"],
[4374732,"RAGJ980224SQ3"],
[7977692,"RAFE8911095C2"],
[7947869,"RACJ7801254R8"],
[4377118,"RAAP8306227P1"],
[9767533,"PIMA931126B91"],
[4355646,"PETC840313GF4"],
[7967089,"PASJ951013LG3"],
[7987412,"PALM860301277"],
[7977674,"PARJ891029AX3"],
[9628259,"OEHE940915Q82"],
[7924431,"OOGJ8612157H0"],
[7977752,"OOAJ840508MH8"],
[7977747,"OIRM961008RA1"],
[4314786,"OIRJ871218CC4"],
[4316710,"NAGN970519JWA"],
[8148543,"MONJ7306065C6"],
[11001585,"MOVA9204256P6"],
[7972671,"MERJ981104570"],
[7977637,"MERA950513J10"],
[4387571,"MELK9507248T8"],
[4353925,"MEAC990514TD8"],
[1000931,"MEPR961109SB2"],
[4387592,"MEEA640727NL5"],
[4341199,"MECM010913IA9"],
[7977742,"MEGA850324KT6"],
[7977612,"MAHF940221MQA"],
[4353923,"MAGV7310149A3"],
[7948206,"MAML9709285T0"],
[4314890,"OILM760723ASA"],
[4362423,"MASO0008028CA"],
[7968103,"MASA990427DY6"],
[6484936,"MAGA000924458"],
[7977642,"LOEV970115R85"],
[7997324,"LOHC6412109T1"],
[7958112,"LODB710212BB2"],
[13254816,"LOCS851011MX8"],
[8169130,"LELM97093069A"],
[7948278,"LAGA931030IG9"],
[4374744,"LARJ700120MH8"],
[7977669,"LAPM870225NKA"],
[7948106,"LACF940810IFA"],
[7980669,"JULA840604GP4"],
[7996688,"JUDU0108076K7"],
[7951496,"JUAT710129JB1"],
[7923473,"IARO850123UZ4"],
[7948196,"IAJE020905UJ0"],
[7996641,"HESJ031023HK3"],
[4360424,"HERM920504TI2"],
[4250620,"HERM010111CX1"],
[7943236,"HERL9908088E7"],
[7942913,"HERJ8503089J8"],
[7947864,"HENG8103301Q7"],
[7942848,"HEMJ9210164N0"],
[10293409,"HEME7008207K4"],
[4282517,"HELJ000506TA5"],
[4374781,"HEEH860725NU9"],
[4355743,"HEAJ900302SVA"],
[4374854,"HEAF8901244F2"],
[12095483,"GUGG9007302PA"],
[12073585,"GUBJ650909KJ4"],
[7921553,"GUAD9012055E7"],
[8162393,"GUSD751209ER2"],
[7948236,"GUMA9504241U8"],
[4353972,"GOVM9810178V0"],
[7951487,"GORF981118R25"],
[7972636,"GOHH861015HV1"],
[3954725,"GOGA960202FF4"],
[6774984,"GOCP9504081H8"],
[4374840,"GARL930411US9"],
[1940252,"GAOJ9102144Z2"],
[4387521,"GAHN890407C29"],
[10320383,"GAHI9805161V2"],
[4232144,"GAGY961113UV7"],
[5879361,"GACS710101862"],
[4235164,"GACL751001E85"],
[5861746,"GACJ691213LC3"],
[6058438,"FAGS590923JX1"],
[8093823,"FORC9701183N8"],
[7942893,"FORS810330L82"],
[7948097,"FORJ900715MG4"],
[7997319,"FORG8602095Y5"],
[4241576,"FORE660207950"],
[4314713,"CABE8705012WA"],
[13318766,"EULM861228VA7"],
[6482718,"EILH910505BQ9"],
[7997332,"EICJ730304251"],
[10258889,"EACA9106126G4"],
[7948241,"DUVM961013QKA"],
[4374789,"DOPL860826S19"],
[8123426,"DOCA8112069Z1"],
[7942849,"DIVD760409C71"],
[4352878,"DIVD670721SW2"],
[10255079,"DIPL9611159H2"],
[7967084,"DIGM820103HP0"],
[7991802,"DIDJ0211271H3"],
[4316899,"CUTA960521BP5"],
[8123536,"CUAA950123T53"],
[4268965,"COMJ930117B61"],
[7977687,"CENP860629TTA"],
[4355699,"CAPJ650825SU5"],
[8169241,"CAMB9209149P1"],
[4374842,"CANJ800626J9A"],
[7977733,"CAZG760626JLA"],
[10266506,"CASO770324QB0"],
[7977737,"CASA941115HA7"],
[7948202,"CARA660501T54"],
[4353974,"CARJ670712R94"],
[7942894,"BUSJ960728PB5"],
[7967024,"BUSG8611216K0"],
[8094048,"BUFB920415UL7"],
[7923269,"BUVJ9907153T7"],
[5879820,"BUGJ900418KN4"],
[7942904,"BUAJ800102G59"],
[7974442,"BIAG901228N23"],
[7947853,"BAGH831112JM4"],
[4374730,"BOMJ8611046T9"],
[4354242,"BELM960130K66"],
[7943235,"BAAI621222K22"],
[7987416,"BAOI870102KQ5"],
[4374779,"BAOE950502GI3"],
[4316769,"BARA8701294E0"],
[4316900,"AOJA710511NM6"],
[7942860,"AATJ980123IY0"],
[6347903,"AAEN901106PT1"],
[7987407,"AAQJ840124VC8"],
[6009029,"AAEC7503016C2"],
[4352626,"AACL870201Q16"],
[1780200,"PANA990113KL0"],
[5836288,"AARF921017DS4"],
[4377067,"AARA940305H17"],
[7923528,"AARA800720PE3"],
[7948211,"AUJF9503305F7"],
[4374780,"AUMJ9312105D7"]]
        for item in x:            
            employee=self.env['hr.employee'].search([('rfc', '=',item[1])])
            if employee:                
                employee.write({'no_tarjeta':int(item[0])})   
        
        
